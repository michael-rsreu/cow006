# Корова-006

## Правила игры

### Карты

* Колода состоит из 104 карт. Каждая пронумерована от 1 до 104. На каждой карте, кроме числа, нанесено количество штрафных очков. Всего в колоде:
  * 76 карт с 1-м штрафным очком;
  * 9 карт 2-мя штрафными очками;
  * 10 карт с 3-мя штрафными очками;
  * 8 карт с 5-ю штрафными очками;
  * 1 карта с 7-ю штрафными очками.
* Для лучшего восприятия карты так же отличаются по цвету в зависимости от количества штрафных очков на них:
  * Зелёные - 1 очко;
  * Голубые - 2 очка;
  * Жёлтые - 3 очка;
  * Оранжевые - 5 очков;
  * Фиолетовая - 7 очков.

### Комплектность

* Карты 5 цветов (зелёный, голубой, жёлтый, оранжевый, фиолетовый) с номерами от 1 до 104 и количеством штрафных очков на каждой.

### Раздача

* 2-10 игроков.
* Каждому игроку раздаётся 10 карт в закрытую.
* Из колоды берётся 4 карты, которые кладутся в 4 ряда по одной.
* После каждого раунда игрокам снова раздаётся по 10 карт.

### Условие поражения

* Получение 66 и более штрафных очков

### Правила игры

* Игроки ходят одновременно.
* Во время хода игроки
  * Выбирают из руки 1 карту и кладут её на стол в закрытую.
  * Каждый игрок одновременно с остальными переворачивает свою карту.
  * Далее игроки размещают свои карты в ряды
    * Порядок размещения карт определяется её номером - первой размещается карта с наименьшим значением.
    * Далее размещается карта следующая по возрастанию и так далее.
* Карты размещаются в рядах, согласно следующим правилам
  * Каждая следующая карта в ряду должна иметь большее число, чем предыдущая.
  * Разница между числами должна быть минимальна.
  * Если размещаемая карта оказывается шестой в ряду, она начнёт новый ряд. А прошлые пять карт нужно забрать в штрафную стопку.
  * Если карта игрока не подходит ни в один ряд, он выбирает один ряд со стола и забирает его себе.
  * Не подошедшая карта кладется в начало убранного ряда.
* Когда игроки сыграют все свои 10 карт, каждый подсчитывает число своих штрафных баллов и записывает его.
* Далее все карты замешиваются повторно и начинается новый раунд.

## Пример текстового интерфейса игры

Играют Masha и Misha.

```
Row1: 5(2)
Row2: 6(1)
Row3: 80(3)
Row4: 24(1)
Masha: 10(3), 11(5), 103(1), 44(5), 14(1), 62(1), 72(1), 73(1), 75(2), 1(1)
Misha: 53(1), 13(1), 15(2), 18(1), 55(7), 77(5), 100(3), 20(3), 22(5), 9(1)
Masha: введите, какую карту игрем из руки: 11(5)
Misha: введите, какую карту играем из руки: 100(3)
Top: открытие карт
----
Row1: 5(2)
Row2: 6(1), 11(5)
Row3: 80(3), 100(3)
Row4: 24(1)
Masha: 10(3), 103(1), 44(5), 14(1), 62(1), 72(1), 73(1), 75(2), 1(1)
Misha: 53(1), 13(1), 15(2), 18(1), 55(7), 77(5), 20(3), 22(5), 9(1)
Masha: введите, какую карту игрем из руки: 1(1)
Misha: введите, какую карту играем из руки: 13(1)
Top: открытие карт
Masha: ваша карта не походит ни к одному ряду. Введите ряд, который хотите забрать: 4
----
Row1: 5(2)
Row2: 6(1), 11(5), 13(1)
Row3: 80(3), 100(3)
Row4: 1(1)
Masha: 10(3), 103(1), 44(5), 14(1), 62(1), 72(1), 73(1), 75(2)
Misha: 53(1), 15(2), 18(1), 55(7), 77(5), 20(3), 22(5), 9(1)
....
----
Row1: 5(2), 10(3)
Row2: 6(1), 11(5), 13(1), 15(2), 18(1)
Row3: 80(3), 100(3), 103(1)
Row4: 1(1)
Masha: 44(5), 14(1), 62(1), 72(1), 73(1), 75(2)
Misha: 53(1), 55(7), 77(5), 20(3), 22(5), 9(1)
Masha: введите, какую карту игрем из руки: 14(1)
Misha: введите, какую карту играем из руки: 20(3)
Top: открытие карт
Misha: ваша карта последняя во втором ряду. Ряд помещен в вашу штрафную колоду.
----
Row1: 5(2), 10(3), 14(1)
Row2: 20(3)
Row3: 80(3), 100(3), 103(1)
Row4: 1(1)
Masha: 44(5), 62(1), 72(1), 73(1), 75(2)
Misha: 53(1), 55(7), 77(5), 22(5), 9(1)
....
----
Penalty_deck_1: 24(1) ...
Penalty_deck_2: 6(1), 11(5), 13(1), 15(2), 18(1) ...
Score1: 14
Score2: 16
----
Masha: 67 штрафных очков
Misha: 58 штрафных очков
Masha Lose!
```
## Формат save-файла

```json
{
  "row1": "o5",
  "row2": "g6",
  "row3": "y80",
  "row4": "g24",
  "current_player_index": 0,
  "players": [
    {
      "name": "Misha",
      "hand": "g53, g13, b15, g18, v55, o77, y100, y20, o22, g9",
      "is_human": true
    },
    {
      "name": "Masha",
      "hand": "y10, o11, g103, o44, g14, g62, g72, g73, b75, g1",
      "is_human": false
    }
  ]
  "score": [
    {
      "score_1": 0
    },
    {
      "score_2": 0
    }
}